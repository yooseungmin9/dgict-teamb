<!-- index.html (핵심만) -->
<!-- 입문자용 주석: /static/index.js 는 FastAPI가 마운트한 정적 경로를 반드시 사용 -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Sentiment Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- ✅ 절대경로로 로드: 서버 로그에 GET /static/index.js 200이 보여야 함 -->
  <script defer src="/static/index.js"></script>
  <style>
    .content-grid{max-width:1080px;margin:24px auto;padding:0 12px}
    .metric-card{margin-bottom:16px}
    .card{border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}
    .card__header{display:flex;align-items:center;gap:12px;padding:12px 16px;font-weight:700}
    .card__body{padding:12px 16px}
    .btn{padding:6px 10px;border:1px solid #d1d5db;border-radius:8px;background:#fff;cursor:pointer}
    .btn--sm{font-size:12px}
  </style>
</head>
<body>
<section class="content-grid">
  <article class="metric-card">
    <div class="card feature-card" id="sentiment-card"
         data-api="http://127.0.0.1:8000/sentiment/line">
      <div class="card__header">
        <strong>긍·부정추이</strong>
        <div style="display:flex; gap:8px; align-items:center; margin-left:auto;">
          <button id="btn-mode-count" class="btn btn--sm">건수</button>
          <button id="btn-mode-ratio" class="btn btn--sm">비율</button>
          <button id="btn-g-day"   class="btn btn--sm">일별</button>
          <button id="btn-g-week"  class="btn btn--sm">주별</button>
          <button id="btn-g-month" class="btn btn--sm">월별</button>
        </div>
      </div>
      <div class="card__body">
        <div id="sentiment-status" style="font-size:12px;color:#666;margin:4px 0;">준비됨</div>
        <div style="height:280px;">
          <canvas id="sentiment-chart"></canvas>
        </div>
      </div>
    </div>
  </article>
</section>
<section class="content-grid">
  <article class="metric-card">
    <div class="card feature-card" id="kw-card"
         data-api="http://127.0.0.1:8000/keywords/top"> <!-- FastAPI 엔드포인트 -->
      <div class="card__header">
        <strong>키워드 TOP3</strong>
        <small style="color:#666; margin-left:8px;">(오늘 vs 어제)</small>
      </div>
      <div class="card__body">
        <div id="kw-status" style="font-size:12px;color:#666;margin-bottom:8px;">준비됨</div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px;">
          <div>
            <div style="font-weight:700; margin-bottom:8px;">오늘</div>
            <ol id="kw-today" style="list-style:none; padding:0; margin:0;"></ol>
          </div>
          <div>
            <div style="font-weight:700; margin-bottom:8px;">어제</div>
            <ol id="kw-yesterday" style="list-style:none; padding:0; margin:0;"></ol>
          </div>
        </div>
      </div>
    </div>
  </article>
</section>
</body>
</html>
