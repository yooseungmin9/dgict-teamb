<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Opinion Mining Dashboard</title>
    <link rel="stylesheet" href="/css/style.css"/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/wordcloud2.js"></script>
    <script defer src="/js/app.js"></script>
    <style>
        body {
          margin:0;
/*        font-family:Arial, sans-serif; */
          display:flex;
          flex-direction:column;
          min-height:100vh;
        }

        .page{
          display:flex;
          align-items:stretch;                 /* ìì‹(ì‚¬ì´ë“œë°”/êµ¬ë¶„ì„ /ë©”ì¸) ë†’ì´ ë§ì¶¤ */
          gap:20px;                            /* ê¸°ì¡´ ê°„ê²© ìœ ì§€ */
          min-height: calc(100vh - var(--header-h, 0px));  /* í™”ë©´ ëê¹Œì§€ */
        }

        .sidebar{ width:300px; padding:20px; box-sizing:border-box; overflow-y:auto; }
        .main{
          flex:1 1 auto;          /* ë‚¨ì€ ê³µê°„ ì±„ì›€ */
          min-width:0;            /* í”Œë ‰ìŠ¤ ì˜¤ë²„í”Œë¡œìš° ë°©ì§€ */
          padding:20px;
          box-sizing:border-box;
        }

        /* âœ… ì„¸ë¡œ êµ¬ë¶„ì„  ìš”ì†Œ */
        .v-sep{
          flex:0 0 1px;                        /* í­ 1px ê³ ì • */
          align-self:stretch;                  /* ë¶€ëª¨ ë†’ì´ì— ë§ì¶° ëŠ˜ì–´ë‚¨ */
          background: var(--line, #ddd);       /* ë””ìì¸ í† í° ì—†ìœ¼ë©´ #ddd ì‚¬ìš© */
        }

        /* ì¢Œì¸¡ ì‚¬ì´ë“œë°” */
        .sidebar {
          width: 300px;
          padding: 20px;
          box-sizing: border-box;
          overflow-y: auto;
        }
        .sidebar h2 {
          font-size: 18px;
          margin-bottom: 20px;
        }
        .thumbnail-box {
          margin-bottom: 15px;
          cursor: pointer;
        }
        .thumbnail-box img {
          width: 100%;
          border-radius: 6px;
        }
        .thumbnail-title {
          font-size: 14px;
          margin-top: 5px;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        /* ë©”ì¸ ì˜ì—­ */
        .main{
          flex:1 1 auto;
          min-width:0;
          padding:20px;
          box-sizing:border-box;
        }

        /* ì˜ìƒ ì •ë³´ */
        .video-info {
          text-align: center;
          margin-bottom: 20px;
        }
        .video-info img {
          width: 320px;
          height: 180px;
          border-radius: 6px;
          margin-bottom: 15px;
        }
        .video-meta h3 {
          margin: 0 0 10px 0;
          font-size: 22px;
        }
        .video-meta p {
          margin: 4px 0;
          color: #555;
          font-size: 14px;
        }

        /* ì˜ìƒ í”Œë ˆì´ì–´ */
        .video-player {
          display: flex;
          justify-content: center;
          align-items: center;
          width: 640px;
          height: 360px;
          margin: 0 auto 40px auto;
          background: #000;
          color: #fff;
          border-radius: 8px;
        }

        /* ë¶„ì„ ì‹œê°í™” */
        .charts {
          display: flex;
          justify-content: space-between;
          margin-bottom: 30px;
        }
        .chart-box {
          width: 48%;
          background: #fafafa;
          padding: 15px;
          border-radius: 8px;
          box-shadow: 0 2px 5px rgba(0,0,0,0.1);
          text-align: center;
        }
        #pieChart {
          max-width: 240px;
          max-height: 240px;
          margin: auto;
        }
        #wordCloud {
          width: 100%;
          height: 300px;
          border: 1px solid #ddd;
        }

        /* ë¶„ì„ ìš”ì•½ */
        .analysis {
          background: #fff;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .comments {
          margin-top: 15px;
        }
        .comment {
          margin-bottom: 10px;
          font-size: 14px;
        }
    </style>
</head>
<body>
<div th:replace="fragments/header :: siteHeader"></div>
<main>
    <div class="page">
        <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°” -->
        <div class="sidebar">
            <h2>ì¹´í…Œê³ ë¦¬ ì¶”ì²œ ìœ íŠœë¸Œ</h2>
            <div class="thumbnail-box">
                <img src="https://via.placeholder.com/280x160" alt="ì¸ë„¤ì¼">
                <div class="thumbnail-title">ê²½ì œ ì´ìŠˆ ë¶„ì„</div>
            </div>
            <div class="thumbnail-box">
                <img src="https://via.placeholder.com/280x160" alt="ì¸ë„¤ì¼">
                <div class="thumbnail-title">ì£¼ì‹ ì‹œì¥ ë°˜ì‘</div>
            </div>
            <div class="thumbnail-box">
                <img src="https://via.placeholder.com/280x160" alt="ì¸ë„¤ì¼">
                <div class="thumbnail-title">ê¸€ë¡œë²Œ ê²½ì œ ë‰´ìŠ¤</div>
            </div>
            <div class="thumbnail-box">
                <img src="https://via.placeholder.com/280x160" alt="ì¸ë„¤ì¼">
                <div class="thumbnail-title">í™˜ìœ¨ ì „ë§</div>
            </div>
            <div class="thumbnail-box">
                <img src="https://via.placeholder.com/280x160" alt="ì¸ë„¤ì¼">
                <div class="thumbnail-title">ì‚°ì—… íŠ¸ë Œë“œ</div>
            </div>
        </div>

        <!-- ì¶”ê°€: ì„¸ë¡œ êµ¬ë¶„ì„ . í™”ë©´ ë†’ì´ì— ë§ì¶° ëŠ˜ì–´ë‚©ë‹ˆë‹¤. -->
        <div class="v-sep" aria-hidden="true"></div>

        <div class="container">
            <!-- ë©”ì¸ ì˜ì—­ -->
            <div class="main">
                <!-- ì˜ìƒ ì •ë³´ (ê°€ìš´ë° ì •ë ¬) -->
                <div class="video-info">
                    <img src="https://via.placeholder.com/320x180" alt="ì„ íƒ ì¸ë„¤ì¼">
                    <div class="video-meta">
                        <h3>ê²½ì œ ì´ìŠˆ ë¶„ì„</h3>
                        <p>ì—…ë¡œë“œ ë‚ ì§œ: 2025-10-01</p>
                        <p>ì¡°íšŒìˆ˜: 12,345</p>
                        <p>ëŒ“ê¸€ ìˆ˜: 567</p>
                    </div>
                </div>

                <!-- ì˜ìƒ í”Œë ˆì´ì–´ -->
                <div class="video-player">
                    <iframe id="videoFrame"
                            width="640"
                            height="360"
                            src="https://www.youtube.com/embed/dQw4w9WgXcQ"
                            title="YouTube video player"
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen>
                    </iframe>
                </div>

                <!-- ë¶„ì„ ì‹œê°í™” -->
                <div class="charts">
                    <div class="chart-box">
                        <h4>ê°ì • ë¶„í¬</h4>
                        <canvas id="pieChart"></canvas>
                    </div>
                    <div class="chart-box">
                        <h4>ëŒ“ê¸€ ì›Œë“œí´ë¼ìš°ë“œ</h4>
                        <canvas id="wordCloud"></canvas>
                    </div>
                </div>

                <!-- ë¶„ì„ ìš”ì•½ -->
                <div class="analysis">
                    <h4>ë¶„ì„ ìš”ì•½</h4>
                    <p>ì´ ì˜ìƒ ëŒ“ê¸€ ì¤‘ <b>ê¸°ì¨ì´ 45%</b>ë¡œ ê°€ì¥ ë§ìŒ</p>
                    <div class="comments">
                        <div class="comment">ğŸ˜Š ì •ë§ ì¢‹ì€ ì •ë³´ë„¤ìš”!</div>
                        <div class="comment">ğŸ˜¡ ì´ê±´ ë™ì˜í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.</div>
                    </div>
                </div>
            </div>
        </div>


        <script>
            // íŒŒì´ì°¨íŠ¸ (ê°ì • ë¶„í¬)
            new Chart(document.getElementById("pieChart"), {
              type: "pie",
              data: {
                labels: ["ê¸°ì¨", "ìŠ¬í””", "ë¶„ë…¸", "ë†€ëŒ"],
                datasets: [{
                  data: [45, 25, 20, 10],
                  backgroundColor: ["#4caf50","#2196f3","#f44336","#ff9800"]
                }]
              },
              options: {
                responsive: false
              }
            });

            // ì›Œë“œí´ë¼ìš°ë“œ (ëŒ“ê¸€ í‚¤ì›Œë“œ ì˜ˆì‹œ)
            WordCloud(document.getElementById('wordCloud'), {
              list: [
                ["ì¢‹ë‹¤", 30], ["ìµœê³ ", 25], ["ë¶„ë…¸", 20],
                ["ê²½ì œ", 18], ["ì£¼ì‹", 15], ["ìœ„ê¸°", 12],
                ["ëŒ€ë°•", 10], ["ìœ„í—˜", 8], ["í˜¸ì¬", 22], ["ì•…ì¬", 16]
              ],
              weightFactor: 3,
              minSize: 12,
              maxRotation: 0,
              backgroundColor: "#fafafa",
              color: function() {
                return ['#4caf50', '#2196f3', '#f44336', '#ff9800'][Math.floor(Math.random()*4)];
              }
            });

            (function setHeaderHeightVar(){
              const header = document.querySelector('header.header'); // í—¤ë” í”„ë˜ê·¸ë¨¼íŠ¸ì˜ ë£¨íŠ¸
              function apply(){
                const h = header ? header.offsetHeight : 0;
                document.documentElement.style.setProperty('--header-h', h + 'px');
              }
              apply();
              window.addEventListener('resize', apply); // ì°½ í¬ê¸° ë³€í™” ì‹œ ê°±ì‹ 
            })();
        </script>
    </div>
</main>
</body>
</html>
