<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>키워드 추이</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<h2>주요 키워드 추이</h2>
<canvas id="keywordChart" width="800" height="400"></canvas>

<script>
    fetch("/keywords")  // Spring Boot → FastAPI 호출 → JSON
      .then(res => res.json())
      .then(data => {
        const labels = data.dates;

        const datasets = Object.keys(data.keywords).map((keyword, i) => ({
          label: keyword,
          data: data.keywords[keyword],
          borderColor: `hsl(${i * 60}, 70%, 50%)`,
          fill: false,
          tension: 0.3
        }));

        new Chart(document.getElementById("keywordChart"), {
          type: "line",
          data: { labels, datasets },
          options: {
            responsive: true,
            plugins: { legend: { position: "top" } }
          }
        });
      });
</script>
</body>
</html>
